# 路由传值

## 从0到1学习文档
### [遇到的报错和解决办法](./%E9%81%87%E5%88%B0%E7%9A%84%E6%8A%A5%E9%94%99%E5%92%8C%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95.md)
### [安装环境](./%E5%AE%89%E8%A3%85%E7%8E%AF%E5%A2%83.md)
### [国际化](./%E5%9B%BD%E9%99%85%E5%8C%96.md)
### [父子传值](./%E7%88%B6%E5%AD%90%E4%BC%A0%E5%80%BC.md)

## 项目添加 vue-router
```
yarn add vue-router@4
``` 

## 在 src/router/index.ts
```
import { createRouter, createWebHashHistory, RouteRecordRaw } from "vue-router";
import HomeView from "../views/HomeView.vue";

const routes: Array<RouteRecordRaw> = [
  {
    path: "/home",
    name: "home",
    component: HomeView,
  },
  {
    path: "/about",
    name: "about",
    component: () => import("../views/AboutView.vue"),
  },
];

const router = createRouter({
  history: createWebHashHistory(),
  routes,
});

export default router;
```

## 在 src/main.ts
```
import { createApp } from "vue";
import App from "./App.vue";
import router from "./router";
createApp(App).use(router).mount("#app");
```

## 在 src/views 创建 HomeView 和 AboutView 用以接收路由传过来的值
- HomeView 
    ```
    <template>
        <div class="about">
            <h1>{{ "This is an " + $route.params.msg + " page" }}</h1>
        </div>
    </template>
    ```
- AboutView 
    ```
    <template>
        <div class="about">
            <h1>{{ "This is an " + $route.query.msg + " page" }}</h1>
        </div>
    </template>
    ```

## 在 src/App.vue 传值
```
<template>
  <nav>
    <router-link :to="{ path: '/', params: { msg: 'Home' } }">Home</router-link> |
    <router-link :to="{ name: 'about', query: { msg: 'About' } }">About<router-link>
  </nav>
  <router-view />
</template>

<style lang="scss">
#app {
  font-family: Avenir, Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
}

nav {
  padding: 30px;

  a {
    font-weight: bold;
    color: #2c3e50;

    &.router-link-exact-active {
      color: #42b983;
    }
  }
}
</style>
```

## 注意：
### 用params去传值的时候，在页面刷新时，参数会消失，用query则不会有这个问题
